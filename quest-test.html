<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Quest WebXR Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style>
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            font-family: Arial, sans-serif;
            z-index: 999;
        }
    </style>
</head>
<body>
    <div id="status">Loading... Click 'Enter VR' when ready</div>

    <a-scene 
        webxr="optionalFeatures: hand-tracking"
        renderer="antialias: true"
        loading-screen="enabled: false">
        
        <!-- Environment -->
        <a-sky color="#ECECEC"></a-sky>
        <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
        
        <!-- A simple interactive box -->
        <a-box position="0 1.6 -2" 
               rotation="0 45 0" 
               color="#4CC3D9"
               animation="property: rotation; to: 0 405 0; dur: 2000; easing: linear; loop: true">
        </a-box>

        <!-- Hand tracking visualization -->
        <a-entity id="leftHand" hand-tracking-controls="hand: left"></a-entity>
        <a-entity id="rightHand" hand-tracking-controls="hand: right"></a-entity>
    </a-scene>

    <script>
        // Update status messages
        const status = document.getElementById('status');
        
        // Check WebXR support
        if (navigator.xr) {
            navigator.xr.isSessionSupported('immersive-vr')
                .then(supported => {
                    if (supported) {
                        status.textContent = 'WebXR VR supported - Ready to enter VR';
                    } else {
                        status.textContent = 'WebXR found but VR not supported';
                    }
                });
        } else {
            status.textContent = 'WebXR not found';
        }

        // Listen for scene events
        const scene = document.querySelector('a-scene');
        
        scene.addEventListener('enter-vr', function () {
            status.textContent = 'Entered VR - You should see a rotating blue cube';
        });

        scene.addEventListener('exit-vr', function () {
            status.textContent = 'Exited VR';
        });
    </script>
</body>
</html> 